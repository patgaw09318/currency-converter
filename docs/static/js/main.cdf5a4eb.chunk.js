(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,a,r){e.exports=r(264)},105:function(e,a,r){},263:function(e,a,r){},264:function(e,a,r){"use strict";r.r(a);var t=r(0),n=r.n(t),c=r(99),u=r.n(c),l=(r(105),r(11)),i=r.n(l),s=r(12),o=r(32),y=r(4),d=r(33),m=r.n(d),v=r(34),p=Object(t.createContext)(),f=function(e){var a=e.reducer,r=e.initialState,c=e.children;return n.a.createElement(p.Provider,{value:Object(t.useReducer)(a,r)},c)},b=function(){return Object(t.useContext)(p)},E={setPrimaryValue:"setPrimaryValue",setPrimaryCurrency:"setPrimaryCurrency",setSecondaryValue:"setSecondaryValue",setSecondaryCurrency:"setSecondaryCurrency",setRate:"setRate"},h={ExchangeRates:{url:"https://api.exchangeratesapi.io/"}},j=h.ExchangeRates,O=Object(v.setupCache)({maxAge:9e5}),C=m.a.create({adapter:O.adapter});function g(e){return Object.keys(e).sort().reduce(function(a,r){return a[r]=e[r],a},{})}var w=function(e){var a=b(),r=Object(s.a)(a,2),c=r[0],u=c.primary,l=c.secondary,d=r[1],m=Object(t.useState)({currencies:{}}),v=Object(s.a)(m,2),p=v[0],f=v[1];Object(t.useEffect)(function(){function e(){return(e=Object(o.a)(i.a.mark(function e(){var a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(j.url+"latest");case 2:a=e.sent,(r=Object(y.a)({},a.data.rates))[a.data.base]=1,f({currencies:g(r)});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var h="PrimaryCurrency"===e.id;return n.a.createElement("select",{id:"".concat(e.id,"_list"),onChange:function(a){var r=a.target.value,t=h?r:u.currency,n=h?l.currency:r;!function(e){d({type:h?E.setPrimaryCurrency:E.setSecondaryCurrency,currency:e})}(a.target.value),e.onChange(u.value,t,n)},value:e.defaultCurrency},Object.keys(p.currencies).map(function(e,a){return n.a.createElement("option",{value:e,key:e,title:p.currencies[e]},e)}))},P=r(54),S=r.n(P),x=function(){var e=b(),a=Object(s.a)(e,1)[0].rate;return n.a.createElement("div",{className:"RatePanel"},n.a.createElement("div",{className:"header"},"Rate details"),n.a.createElement("br",null),n.a.createElement("div",null,"Rate:"),n.a.createElement("div",{className:"value"},a.value),n.a.createElement("br",null),n.a.createElement("div",null,"Date:"),n.a.createElement("div",{className:"value"},a.date))},R=h.ExchangeRates,k=Object(v.setupCache)({maxAge:9e5}),V=m.a.create({adapter:k.adapter});function N(){return(N=Object(o.a)(i.a.mark(function e(a,r){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(R.url+"latest?symbols=".concat(r,"&base=").concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(e){var a=Object(t.useRef)(!0),r=b(),c=Object(s.a)(r,2),u=c[0],l=u.primary,i=u.secondary,o=c[1],y=function(e,a,r){(function(e,a){return N.apply(this,arguments)})(a,r).then(function(a){var t=a.data,n=new S.a(e||0),c=new S.a(t.rates[r]),u=n.mul(c).toDecimalPlaces(2).toString(),l={type:E.setSecondaryValue,value:u};o(l),l={type:E.setRate,rate:{value:c.toDecimalPlaces(2).toString(),date:t.date}},o(l)})};return Object(t.useEffect)(function(){a.current&&(a.current=!1,y(l.value,l.currency,i.currency))}),n.a.createElement("div",{className:"CurrenciesPanelComponent"},n.a.createElement("div",null,n.a.createElement("input",{id:"PrimaryValue",type:"number",step:"any",placeholder:"0.00",defaultValue:l.value,onChange:function(e){var a=e.target.value;o({type:E.setPrimaryValue,value:a}),y(a,l.currency,i.currency)}}),n.a.createElement(w,{id:"PrimaryCurrency",defaultCurrency:l.currency,onChange:y})),n.a.createElement("div",null,n.a.createElement("div",{id:"SecondaryValue"},i.value),n.a.createElement(w,{id:"SecondaryCurrency",defaultCurrency:i.currency,onChange:y})),n.a.createElement(x,null))},A=function(e,a){switch(a.type){case E.setPrimaryValue:return Object(y.a)({},e,{primary:Object(y.a)({},e.primary,{value:a.value})});case E.setPrimaryCurrency:return Object(y.a)({},e,{primary:Object(y.a)({},e.primary,{currency:a.currency})});case E.setSecondaryValue:return Object(y.a)({},e,{secondary:Object(y.a)({},e.secondary,{value:a.value})});case E.setSecondaryCurrency:return Object(y.a)({},e,{secondary:Object(y.a)({},e.secondary,{currency:a.currency})});case E.setRate:return Object(y.a)({},e,{rate:a.rate});default:return e}},B=(r(263),function(){return n.a.createElement(f,{initialState:{primary:{currency:"EUR",value:"10"},secondary:{currency:"USD",value:"0"},rate:{value:0,date:""}},reducer:A},n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"Title"},"Currency converter"),n.a.createElement(D,null),n.a.createElement("footer",null,n.a.createElement("div",null,"@2019 Patryk Gawryszewski"),n.a.createElement("div",null,n.a.createElement("a",{href:"https://exchangeratesapi.io",target:"_blank",rel:"noopener noreferrer"},"Rates source")))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(n.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[100,1,2]]]);
//# sourceMappingURL=main.cdf5a4eb.chunk.js.map